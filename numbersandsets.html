<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2025-07-18 Fri 22:06 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Numbers and Sets</title>
<meta name="author" content="jbh" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<style> body {background-color: #fafad2;  max-width: 62.5rem; padding: 1rem; margin: auto;} img {width: 60%; height: auto;} figure {text-align: center;} .video {aspect-ratio: 16 / 9; width: 100% </style>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Numbers and Sets</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org858db0a">Part 1A Michaelmas</a>
<ul>
<li><a href="#org619569c">Course materials</a></li>
<li><a href="#org052b3cf">Required knowledge</a></li>
<li><a href="#org29bfec8">Strategy</a></li>
</ul>
</li>
<li><a href="#orgc77b119">Mechanics of Proof</a>
<ul>
<li><a href="#orgfce0786">Proving equalities</a></li>
<li><a href="#orgf1bbefb">Tips and tricks</a></li>
<li><a href="#org72790b8">Proving inequalities</a></li>
<li><a href="#org6c7e761">Proofs with structure</a></li>
<li><a href="#org5f260c5">Invoking lemmas</a></li>
</ul>
</li>
<li><a href="#org11fc7b9">Number Theory</a></li>
<li><a href="#org82f1a3e">Limits/Convergence</a></li>
</ul>
</div>
</div>
<hr />

<div id="outline-container-org858db0a" class="outline-2">
<h2 id="org858db0a">Part 1A Michaelmas</h2>
<div class="outline-text-2" id="text-org858db0a">
<p>
This is the first term of the <a href="./math.html">Mathematical Tripos</a> you should be taking this with the other first term courses at the same time as Cambridge designed it this way for a good reason. 
</p>
</div>

<div id="outline-container-org619569c" class="outline-3">
<h3 id="org619569c">Course materials</h3>
<div class="outline-text-3" id="text-org619569c">
<ul class="org-ul">
<li>Course <a href="https://zeramorphic.uk/maths.html">notes</a> (unofficial)
<ul class="org-ul">
<li>Someone made an entire <a href="https://www.youtube.com/watch?v=yW6jjM1NPIo">video series</a> based on the course notes</li>
</ul></li>
<li>Example <a href="http://www.dpmms.cam.ac.uk/study/IA/Numbers%2BSets/">sheets</a></li>
<li>Final <a href="https://www.maths.cam.ac.uk/undergrad/pastpapers/past-ia-ib-and-ii-examination-papers">exams</a></li>
</ul>
</div>

<div id="outline-container-org514705b" class="outline-4">
<h4 id="org514705b">Schedule recommendations:</h4>
<div class="outline-text-4" id="text-org514705b">
<ul class="org-ul">
<li>R.B.J.T. Allen <i>Numbers and Proofs</i> Butterworth-Heinemann 1997</li>
<li>R.P. Burn <i>Numbers and Functions: steps into analysis</i> Cambridge University Press 2000</li>
<li>H. Davenport <i>The Higher Arithmetic</i> Cambridge University Press 1999</li>
<li>A.G. Hamilton <i>Numbers, sets and axioms: the apparatus of mathematics</i> Cambridge University Press 1983</li>
<li>C. Schumacher <i>Chapter Zero: Fundamental Notions of Abstract Mathematics</i> Addison-Wesley 2001</li>
<li>I. Stewart and D. Tall <i>The Foundations of Mathematics</i> Oxford University Press 1977
<ul class="org-ul">
<li>Couldn't find a copy of this one only the watered down second edition</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org052b3cf" class="outline-3">
<h3 id="org052b3cf">Required knowledge</h3>
<div class="outline-text-3" id="text-org052b3cf">
<p>
Look at some of the old <a href="https://www.maths.cam.ac.uk/undergrad/pastpapers/past-ia-ib-and-ii-examination-papers">exams</a> without looking at the recent exams because you want to test yourself and have no advantage that way you'll know if your strategy is working to actually learn the tripos yourself. Every current Cambridge student would have access to these old exams anyway. 
</p>

<p>
The <a href="https://www.dpmms.cam.ac.uk/study/IA/Numbers%2BSets/previous.html">sheets</a>: 
</p>

<ul class="org-ul">
<li>First sheet is almost entirely number theory (primes).</li>
<li>Second is divisibility, mod, RSA encryption, more number theory.</li>
<li>Third is converging sequences, least upper bound axiom, proving something to be irrational. - Fourth is sets (countable) and functions.</li>
</ul>

<p>
Many of these example sheet problems are almost identical to the <i>Algebra via Problems</i> content. 
</p>
</div>
</div>

<div id="outline-container-org29bfec8" class="outline-3">
<h3 id="org29bfec8">Strategy</h3>
<div class="outline-text-3" id="text-org29bfec8">
<p>
Now that we've looked through the sheets and old exams we can create our own curriculum since we don't have access to Cambridge lectures
</p>

<ul class="org-ul">
<li><a href="https://www.youtube.com/playlist?list=PL8yHsr3EFj53L8sMbzIhhXSAOpuZ1Fov8">Intro to Number Theory</a> lectures by Richard Borcherds
<ul class="org-ul">
<li>First 26 lectures all showed up in old exams/sheets</li>
</ul></li>
<li>First 4 chapters of the (free) <a href="https://classicalrealanalysis.info/com/FREE-PDF-DOWNLOADS.php">book</a> <i>Elementary Real Analysis</i> by Thomson &amp; Bruckner
<ul class="org-ul">
<li>Next term we have to read the same book anyway</li>
</ul></li>
<li><a href="https://hrmacbeth.github.io/math2001/">The Mechanics of Proof</a> written by a Cambridge Part III graduate using the Lean proof assistant.</li>
</ul>

<p>
Some optional practice:
</p>

<ul class="org-ul">
<li><a href="https://users.mccme.ru/skopenko/">Algebra Via Problems</a> free English (and Russian) copy on Arkadiy Skopenkov's website (and library genesis/anna's archive)</li>
<li><a href="https://www.dpmms.cam.ac.uk/~wtg10/naspage.html">Supplementary reading</a> and extra sheets about countability</li>
</ul>

<p>
A Cambridge student would have 24 lectures and probably work through all the recommended reading as this is a Michaelmas term and exams are 6 months away. 
</p>
</div>
</div>
</div>


<div id="outline-container-orgc77b119" class="outline-2">
<h2 id="orgc77b119">Mechanics of Proof</h2>
<div class="outline-text-2" id="text-orgc77b119">
<ul class="org-ul">
<li><a href="https://hrmacbeth.github.io/math2001/index.html">The Mechanics of Proof</a> Fordham 2023 
<ul class="org-ul">
<li>See these <a href="https://github.com/hrmacbeth/math2001">install instructions</a> Gitpod is easiest</li>
<li>There's many <a href="https://www.youtube.com/watch?v=YbntYOs8gUQ">demos</a> on YouTube by the author Heather Macbeth</li>
</ul></li>
</ul>

<p>
This is formalizing proofs in a proof assistant and here because not only does it cover a lot of the topics in the notes but we can use Lean4 to verify our own proofs in later courses once we learn group theory in 1A and 1B to understand abstract algebra.    
</p>
</div>

<div id="outline-container-org977783a" class="outline-4">
<h4 id="org977783a">Local install</h4>
<div class="outline-text-4" id="text-org977783a">
<p>
Gitpod free tier as mentioned in the install instructions is easiest. To install Lean locally w/Visual Studio:
</p>

<ul class="org-ul">
<li>install <a href="https://leanprover-community.github.io/get_started.html">Lean</a></li>
<li>install git</li>
<li>install code (Visual Studio code) though I use emacs see below</li>
<li>in terminal type: git clone <a href="https://github.com/hrmacbeth/math2001.git">https://github.com/hrmacbeth/math2001.git</a></li>
<li>cd math2001</li>
<li>in terminal: lake exe cache get
<ul class="org-ul">
<li>downloads 3972+ files (wtf)</li>
</ul></li>
<li>'code .' to start from present directory</li>
<li>install lean4 extension</li>
</ul>

<p>
Click on 01ProofsbyCalculation.lean you should get a right panel opening up in VS code called 'Lean Infoview' that displays tactic state goals and all messages. 
</p>
</div>
</div>

<div id="outline-container-org96deab1" class="outline-4">
<h4 id="org96deab1">Emacs</h4>
<div class="outline-text-4" id="text-org96deab1">
<p>
Install everything as before then git clone <a href="https://github.com/leanprover/lean4-mode">lean4-mode</a>, paste the readme elisp into .emacs or init.el file, restart and open any .lean file. Ctrl-c Ctrl-i opens the lean view in a new window showing goals. If you use vanilla emacs from some distros like Ubuntu you'll have an annoying 'can't verify signature' error which is fixed by <a href="http://elpa.gnu.org/packages/gnu-elpa-keyring-update.html">updating elpa keyring</a>. 
</p>

<p>
Another way is with gpg: 
</p>

<pre class="example" id="orgd346a7a">
gpg --homedir ~/.emacs.d/elpa/gnupg --list-keys 

/home/x/.emacs.d/elpa/gnupg/pubring.kbx
-----------------------------------------
pub   dsa2048 2014-09-24 [SC] [expired: 2019-09-23]
      CA442C00F91774F17F59D9B0474F05837FBDEF9B
uid           [ expired] GNU ELPA Signing Agent (2014) &lt;elpasign@elpa.gnu.org&gt;

pub   rsa3072 2019-04-23 [SC] [expires: 2024-04-21]
      C433554766D3DDC64221BFAA066DAFCB81E42C40
uid           [ unknown] GNU ELPA Signing Agent (2019) &lt;elpasign@elpa.gnu.org&gt;

pub   ed25519 2022-12-28 [C] [expires: 2032-12-25]
      AC49B8A5FDED6931F40EE78BF993C03786DE7ECA
uid           [ unknown] GNU ELPA Signing Agent (2023) &lt;elpasign@elpa.gnu.org&gt;
sub   ed25519 2022-12-28 [S] [expires: 2027-12-27]
</pre>

<p>
Update key if your second key is expired:
</p>

<pre class="example" id="org3e9b20a">
gpg --homedir ~/.emacs.d/elpa/gnupg --keyserver hkps://keys.openpgp.org --recv-keys 066DAFCB81E42C40
</pre>
</div>
</div>

<div id="outline-container-orgfce0786" class="outline-3">
<h3 id="orgfce0786">Proving equalities</h3>
<div class="outline-text-3" id="text-orgfce0786">
<p>
Reading 1.1 <i>Proving equalities</i> from <a href="https://hrmacbeth.github.io/math2001/01_Proofs_by_Calculation.html#proving-equalities">Mechanics of Proof</a>. Any examples you don't understand come back here after writing some Lean proofs you won't get them all immediately. First example expand out (a - b) and you need to add 4ab in order to balance both sides. The problem statement tells us (a - b) = 4 so (a - b)<sup>2</sup> is 16 after substitution.
</p>

<p>
1.2.x <i>Proving equalities in Lean</i> the .lean files are all included in the Math2001 directory you cloned from github. I had to fight with Lean to get it to accept 1.2.4 so rewrote it exactly like she did with parens:
</p>

<pre class="example" id="org6bc6e76">
-- Example 1.2.4.
-- Exercise: type out the whole proof printed in the text as a Lean proof.
example {a b c d e f : ℤ} (h1 : a * d = b * c) (h2 : c * f = d * e) :
    d * (a * f - b * e) = 0 := 
   calc
    d * (a * f - b * e)
      = d * a * f - d * b * e := by ring
    _ = (a * d) * f - d * b * e := by ring
    _ = (b * c) * f - d * b * e := by rw [h1]
    _ = b * (c * f) - d * b * e := by ring
    _ = b * (d * e) - d * b * e := by rw [h2]
    _ = 0 := by ring 
</pre>

<p>
We are using 'calc' in Lean hence the name proof by calculation. I'm guessing the underscore represents the entire left hand side of the equation indicating to the rw (rewrite) pattern matcher to ignore it. There's nothing in the documentation I could easily find but Terence Tao describes the underscore <a href="https://terrytao.wordpress.com/2023/12/05/a-slightly-longer-lean-4-proof-tour/">here</a> same way.  
</p>

<p>
Look at the infoview/goals it will tell you when that stage is done by 'goals accomplished', also click around various parts of the proof to see how the infoview changes:
</p>

<pre class="example" id="org2fd310d">
-- Example 1.3.2
example {x : ℤ} (h1 : x + 4 = 2) : x = -2 :=
  calc
  x = (x + 4) - 4 := by ring
  _ = 2 - 4 := by rw [h1]
  _ = -2 := by ring 
</pre>

<p>
I guessed the syntax for rationals in Lean and it worked:
</p>

<pre class="example" id="org17c6e2b">
-- Example 1.3.4
example {w : ℚ} (h1 : 3 * w + 1 = 4) : w = 1 :=
  calc
  w = (3 * w + 1)/3 - 1/3 := by ring
  _ = 4/3 - 1/3 := by rw [h1]
  _ = 1 := by ring
</pre>

<p>
1.3.11 you can use Lean to tell you when the sides have been balanced. You did it correctly if goals panel or infoview shows goals accomplished and the linter hasn't added any red squiggle lines or other errors. You can rewrite a line using both hypotheses and eliminate a lot of steps I kept them here for illustration how Lean works:
</p>

<pre class="example" id="org6559276">
example {u v : ℚ} (h1 : 4 * u + v = 3) (h2 : v = 2) : u = 1 / 4 :=
  calc
  u = (4 * u + v)/4 - v/4 := by ring
  _ = 3/4 - 2/4 := by rw [h1, h2]
  _ = 1/4 := by ring

example {u v : ℝ} (h1 : u + 1 = v) : u ^ 2 + 3 * u + 1 = v ^ 2 + v - 1 :=
  calc
  u ^ 2 + 3 * u + 1 = (u + 1) * (u + 1) + (u + 1) - 1 := by ring
  _ = v * v + v - 1 := by rw [h1]
  _ = v ^ 2 + v - 1 := by ring
</pre>
</div>
</div>

<div id="outline-container-orgf1bbefb" class="outline-3">
<h3 id="orgf1bbefb">Tips and tricks</h3>
<div class="outline-text-3" id="text-orgf1bbefb">
<p>
1.3.2 once again we first establish x = x then use the hypothesis to rewrite it
</p>

<pre class="example" id="orgc2b3b1b">
-- Example 1.3.2
example {x : ℤ} (h1 : x + 4 = 2) : x = -2 :=
  calc
  x = (x + 4) - 4 := by ring
  _ = 2 - 4 := by rw [h1]
  _ = -2 := by ring
</pre>

<p>
For the rest of these examples try them yourself going through the 03TipsandTricks.lean file before looking at the solution it's the only way you learn.  
</p>

<pre class="example" id="org66c6c8f">
-- Example 1.3.5
example {x : ℤ} (h1 : 2 * x + 3 = x) : x = -3 :=
  calc
  x = (2 * x) - x  := by ring
  _ = 2 * x - (2 * x + 3) := by rw [h1]
  _ = -3 := by ring
</pre>

<p>
(╯°□°)╯︵ ┻━┻ if you see calc underlined with a red error there could be an accidental character floating around in the scope out of view somewhere it took me forever to figure that out as Lean kept giving some cryptic message and I was only looking at the signature not scrolling down to find the renegade character I mistyped.  
</p>

<p>
1.3.11 exercises all use the examples we just saw. Look at 1.3.8 example when you try exercise 11 and manipulate it so a = (4 + 2) / 3.  
</p>

<pre class="example" id="orgbb8fd3b">
example {x y : ℝ} (h1 : x = 3) (h2 : y = 4 * x - 3) : y = 9 :=
  calc
  y = y := by ring
  _ = 4*x - 3 := by rw [h2]
  _ = 4*3 - 3 := by rw [h1]
  _ = 9 := by ring

example {p : ℝ} (h1 : 5 * p - 3 = 3 * p + 1) : p = 2 :=
  calc
  p = (5*p -3 - 3*p + 1)/2 + 1 := by ring
  _ = (3*p + 1 - 3*p + 1)/2 + 1 := by rw [h1]
  _ = 2/2 + 1 := by ring
  _ = 2 := by ring
</pre>
</div>
</div>

<div id="outline-container-org72790b8" class="outline-3">
<h3 id="org72790b8">Proving inequalities</h3>
<div class="outline-text-3" id="text-org72790b8">
<p>
We're still doing the <a href="https://hrmacbeth.github.io/math2001/01_Proofs_by_Calculation.html#proving-inequalities">proofs by calc</a> chapter.
</p>

<p>
1.4.1 example copy down some of the general rules
</p>
<ul class="org-ul">
<li>Inequality preserved if C \(\ge\) 0:</li>
<li>A \(\ge\) B implies CA \(\ge\) CB</li>
<li>A \(\ge\) B implies A - C \(\ge\) B - C</li>
<li>A \(\ge\) B and B &gt; C then A &gt; C</li>
</ul>


<ul class="org-ul">
<li>Reversed inequality:</li>
<li>A \(\ge\) B implies C - B \(\ge\) C - A 
<ul class="org-ul">
<li>2 \(\ge\) 1 implies 5 - 1 \(\ge\) 5 - 2</li>
</ul></li>
</ul>

<p>
To get the full list of the unicode symbols every editor plugin comes with an <a href="https://github.com/leanprover-community/lean4-mode/blob/master/data/abbreviations.json">abbreviations.json</a> file. Place '\' (LaTeX style commands) before any of those symbols on the left of the abbreviations file to see them converted to the symbols on the right. For example \b is converted in the editor to \(\beta\)    
</p>

<pre class="example" id="orged17f03">
\ge greater or equal
\le less than or equal
&lt; and &gt; are just unicode keyboard chars
</pre>

<pre class="example" id="orgcd14473">
-- Example 1.4.2
-- Exercise: replace the words "sorry" with the correct Lean justification.
example {r s : ℚ} (h1 : s + 3 ≥ r) (h2 : s + r ≤ 3) : r ≤ 3 :=
  calc
    r = (s + r + r - s) / 2 := by ring
    _ ≤ (3 + (s + 3) - s) / 2 := by rel [h1, h2]
    _ = 3 := by ring
</pre>


<p>
Example 1.4.3 think why is x + y &lt;= x + (x + 5) it's because y &lt;= x + 5 and x is &lt;= to itself. 
</p>

<pre class="example" id="org7015198">
-- Example 1.4.3
-- Exercise: type out the whole proof printed in the text as a Lean proof.
example {x y : ℝ} (h1 : y ≤ x + 5) (h2 : x ≤ -2) : x + y &lt; 2 :=
  calc
  x + y ≤ x + (x + 5) := by rel [h1]
  _ = 2 * x + 5 := by ring 
  _ ≤ 2 * -2 + 5 := by rel [h2]
  _ &lt; 2 := by numbers
</pre>

<p>
Example 1.4.6 the final tactic is := by extra which is defined if you click on 'Index of Lean tactics' as "extra checks an inequality whose two sides differ by the addition of a positive quantity". 
</p>

<pre class="example" id="orgeb67666">
-- Example 1.4.9
-- Exercise: replace the words "sorry" with the correct Lean justification.
example {a b : ℚ} (h1 : a ≥ 0) (h2 : b ≥ 0) (h3 : a + b ≤ 8) :
    3 * a * b + a ≤ 7 * b + 72 :=
  calc
    3 * a * b + a
      ≤ 2 * b ^ 2 + a ^ 2 + (3 * a * b + a) := by extra
    _ = 2 * ((a + b) * b) + (a + b) * a + a := by ring
    _ ≤ 2 * (8 * b) + 8 * a + a := by rel [h3]
    _ = 7 * b + 9 * (a + b) := by ring
    _ ≤ 7 * b + 9 * 8 := by rel [h3]
    _ = 7 * b + 72 := by ring
</pre>

<p>
1.4.10 same tactic used, put left hand side of inequality on right and side, add some positive squares. If you use any symbolic calculator online then the enormous expanded square makes sense as (a<sup>4</sup> + b<sup>4</sup> + c<sup>4</sup>)<sup>2</sup> = a<sup>8</sup>+2a<sup>4</sup>b<sup>4</sup>+2a<sup>4</sup>c<sup>4</sup>+b<sup>8</sup>+2b<sup>4</sup>c<sup>4</sup>+c<sup>8</sup>
</p>

<p>
Try some 14.11 exercises
</p>

<pre class="example" id="org83e1842">
example {a b : ℚ} (h1 : 3 ≤ a) (h2 : a + 2 * b ≥ 4) : a + b ≥ 3 :=
  calc
  a + b = a/2 + (a + 2*b)/2 := by ring
      _ ≥ 3/2 + 4/2 := by rel [h1,h2]
      _ ≥ 3 := by numbers

example {x : ℤ} (hx : x ≥ 9) : x ^ 3 - 8 * x ^ 2 + 2 * x ≥ 3 :=
  calc
  x ^ 3 - 8 * x ^ 2 + 2 * x = 
  x * x * x - 8 * x * x + 2 * x := by ring
  _ ≥ 9 * x * x - 8 * x * x + 2 * x := by rel [hx]
  _ = x * x + 2 * x := by ring
  _ ≥ 9 * x + 2 * x := by rel [hx]
  _ = 11 * x := by ring 
  _ ≥ 11 * 9 := by rel [hx]
  _ ≥ 3 := by numbers

example {n : ℤ} (hn : n ≥ 10) : n ^ 4 - 2 * n ^ 2 &gt; 3 * n ^ 3 :=
  calc
  n^4 - 2 * n^2 =  
  n * n^3 - 2 * n^2 := by ring
  _ ≥ 10 * n^3 - 2 * n^2 := by rel [hn]
  _ = 3 * n^3 + 7 * n * n * n - 2 * n * n := by ring
  _ ≥ 3 * n^3 + 7 * 10 * n * n - 2 * n * n := by rel [hn]
  _ = 3 * n^3 + 68 * n * n := by ring
  _ ≥ 3 * n^3 + 68 * 10 * 10 := by rel [hn]
  _ &gt; 3 * n^3 := by extra
</pre>

<p>
Exercise 6 I couldn't figure it out in lean as I don't know enough of the standard library yet as there's no hypothesis to use rel or addarith with and the sig wants a rational number. My attempts using squares with the tactic extra failed too whereas by hand it is easy:
</p>

<ul class="org-ul">
<li>x<sup>2</sup> - 2x \(\ge\) -1</li>
<li>x<sup>2</sup> - 2x + 1 \(\ge\) -1 + 1</li>
<li>(x - 1)<sup>2</sup> \(\ge\) 0 
<ul class="org-ul">
<li>which we know is true since squares are always positive</li>
</ul></li>
</ul>
</div>
</div>


<div id="outline-container-org6c7e761" class="outline-3">
<h3 id="org6c7e761">Proofs with structure</h3>
<div class="outline-text-3" id="text-org6c7e761">
<p>
Reading the <a href="https://hrmacbeth.github.io/math2001/02_Proofs_with_Structure.html">second</a> chapter. 
</p>

<p>
2.1.2 prove m + 3 = 9 then final tactic is addarith to subtract 3 from both sides and show m = 9 - 3 or 6.  
</p>

<p>
2.1.5 example remember extra checks an inequality whose two sides differ by the addition of a positive quantity and the square b<sup>2</sup> is always positive. 
</p>

<p>
Another example is 2.1.7 of extra since positive quantities
</p>

<pre class="example" id="orgadbdffd">
example (a b : ℝ) (h1 : -b ≤ a) (h2 : a ≤ b) : a ^ 2 ≤ b ^ 2 := by
  have h3 : 0 ≤ b + a := by addarith [h1]
  have h4 : 0 ≤ b - a := by addarith [h2]
  calc
  a^2 ≤ a^2 + (b + a) * (b - a) := by extra
  _ = b^2 := by ring
</pre>

<p>
2.1.8 extra tactic again:
</p>

<pre class="example" id="orgac4d5e8">
example (a b : ℝ) (h : a ≤ b) : a ^ 3 ≤ b ^ 3 := by
  have h2 : 0 ≤ b - a := by addarith [h]
  calc
  a^3 ≤ a^3 + ((b-a)*((b-a)^2 + 3*(b + a)^2)/4) := by extra
  _ = b^3 := by ring
</pre>

<p>
The cancel tactic is defined as follows if you look at the code it's another tactic written for this book to simplify the regular lean libraries which are all abstract algebra we haven't learned yet. 
</p>

<p>
'Cancel 2 at h' means
</p>

<ul class="org-ul">
<li>2x = 2y cancel to x = y</li>
<li>2x &lt; 2y cancel to x &lt; y</li>
<li>x<sup>2</sup> = y<sup>2</sup> cancel to x = y</li>
<li>0 &lt; 2x cancel to 0 &lt; x</li>
<li>x<sup>2</sup> = 0 cancel to x = 0</li>
</ul>

<p>
However in the exercises I couldn't get it work. 
</p>

<p>
Example Ex 2.1.9 this is what I want to do but it won't let me despite x already being x &gt; 1 so no possible way (x + 2) could be (-2 + 2) or 0:
</p>

<pre class="example" id="orgfca315a">
example {x : ℚ} (h1 : x ^ 2 = 4) (h2 : 1 &lt; x) : x = 2 := by
  have h3 :=
  calc
  x * (x + 2) = 2 * (x ^ 2 + 2 * x)/2 := by ring
  _ = 2 * (4 + 2 * x)/2 := by rw [h1]
  _ = 2 * (x + 2) := by ring
  cancel (x + 2) at h3  
</pre>

<p>
Another example from 2.1.9 that doesn't work, I tried after to manually add in (h : n &gt; 0) and still fails:
</p>

<pre class="example" id="org1defadf">
example {n : ℤ} (hn : n ^ 2 + 4 = 4 * n) : n = 2 := by
  have hm : 0 = n ^ 2 - 4 * n + 4 := by addarith [hn]
  have h1 :=
  calc
  0 = n ^ 2 - 4 * n + 4 := by rw [hm]
  _ = (n - 2)^2 := by ring
  cancel 2 at h1 
  addarith [h1]
</pre>

<p>
Others have had problems too and filed an <a href="https://github.com/hrmacbeth/math2001/issues/17">issue</a> for a possible bug or maybe I don't understand how Lean4 tactics work we'll have to skip these and try them again later when the author replies but reminder we are using a custom library for the purposes of learning and the regular Lean4 way of cancelling likely uses some fancy algebra library like <a href="https://leanprover-community.github.io/extras/simp.html">simp</a> we can learn later.  
</p>
</div>
</div>

<div id="outline-container-org5f260c5" class="outline-3">
<h3 id="org5f260c5">Invoking lemmas</h3>
<div class="outline-text-3" id="text-org5f260c5">
<p>
TODO
</p>
</div>
</div>
</div>

<div id="outline-container-org11fc7b9" class="outline-2">
<h2 id="org11fc7b9">Number Theory</h2>
<div class="outline-text-2" id="text-org11fc7b9">
<p>
I'm going to do the first 26 lectures of:
</p>

<ul class="org-ul">
<li><a href="https://www.youtube.com/playlist?list=PL8yHsr3EFj53L8sMbzIhhXSAOpuZ1Fov8">Intro to Number Theory</a> lectures by Richard Borcherds
<ul class="org-ul">
<li>Uses <i>An introduction to the theory of numbers</i> by Niven, Zuckerman, and Montgomery</li>
</ul></li>
</ul>

<p>
TODO
</p>
</div>
</div>

<div id="outline-container-org82f1a3e" class="outline-2">
<h2 id="org82f1a3e">Limits/Convergence</h2>
<div class="outline-text-2" id="text-org82f1a3e">
<p>
I'm going to do the first 4 chapters of:
</p>

<ul class="org-ul">
<li>(free) <a href="https://www.classicalrealanalysis.info/com/Elementary-Real-Analysis.php">book</a> <i>Elementary Real Analysis</i> by Thomson &amp; Bruckner.</li>
</ul>

<p>
We have to do this book entirely next term anyway so may as well start now as all those convergence topics will be on the sheets and exams for this current course. 
</p>

<p>
TODO
</p>

<hr />
<p>
<a href="./math.html">Home</a>
</p>
</div>
</div>
</div>
</body>
</html>
